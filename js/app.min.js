let btnMenu=document.querySelector(".btn-menu"),menu=document.querySelector(".list-container"),recBtn=document.getElementById("recordBtn");var activador=!0;let ll=localStorage.length,totalPrice=0,counter=0,screenSize=screen.width,arrayrecord=[];btnMenu.addEventListener("click",e=>{activador?(menu.style.left="0%",menu.style.transition="0.5s",activador=!1):(activador=!0,menu.style.left="-100%")});let enlaces=document.querySelectorAll(".lists li a");function setLink(e){menu.style.left="-100%",activador=!0,enlaces.forEach(e=>{e.classList.remove("active")}),e.classList.add("active")}enlaces.forEach(e=>{e.addEventListener("click",e=>{setLink(e.target)})});class Producto{constructor(e,t,n,a,o,r,c,s){this.tipo=e.toUpperCase(),this.nombre=t.toUpperCase(),this.price=parseFloat(n),this.precio=parseFloat(n),this.iva=parseFloat(a),this.descuento=parseFloat(o),this.route=r,this.description=c,this.id=s}sumaIva(){this.precio=this.precio*(1+this.iva/100)}descontar(){this.precio=this.precio*(this.descuento/100)}restablecerPrecio(){this.precio=this.price}}function responsive(e){if(e<997){let e=document.querySelectorAll('[data-class="responsive"]');document.getElementById("menumodal").className="modal-body d-flex flex-column justify-content-center align-items-center",e.forEach(e=>{e.className="modal fade modal-dialog modal-dialog-scrollable"})}}function logica(e){let t=[],n=e.shift();const a=new Producto(n.tipo,n.nombre,n.precio,n.iva,n.descuento,n.ruta,n.description,n.id);n=e.shift();const o=new Producto(n.tipo,n.nombre,n.precio,n.iva,n.descuento,n.ruta,n.description,n.id);n=e.shift();const r=new Producto(n.tipo,n.nombre,n.precio,n.iva,n.descuento,n.ruta,n.description,n.id);n=e.shift();const c=new Producto(n.tipo,n.nombre,n.precio,n.iva,n.descuento,n.ruta,n.description,n.id);n=e.shift();const s=new Producto(n.tipo,n.nombre,n.precio,n.iva,n.descuento,n.ruta,n.description,n.id);n=e.shift();const i=new Producto(n.tipo,n.nombre,n.precio,n.iva,n.descuento,n.ruta,n.description,n.id);n=e.shift();const l=new Producto(n.tipo,n.nombre,n.precio,n.iva,n.descuento,n.ruta,n.description,n.id);n=e.shift();const d=new Producto(n.tipo,n.nombre,n.precio,n.iva,n.descuento,n.ruta,n.description,n.id);n=e.shift();const m=new Producto(n.tipo,n.nombre,n.precio,n.iva,n.descuento,n.ruta,n.description,n.id);n=e.shift();const p=new Producto(n.tipo,n.nombre,n.precio,n.iva,n.descuento,n.ruta,n.description,n.id);t.push(a,o,r,c,s,i,l,d,m,p);const u=(e,t,n)=>{let a;const o=document.createElement("p");return a=isNaN(e)?0:e*t,o.textContent=`El costo es de: $ ${a}`,o.className="p",n.appendChild(o),a};document.getElementById("est").onclick=(()=>{let e=t.filter(e=>"EST"===e.tipo),n=document.getElementById("input-est");for(const t of e)$(".cards-estam").append(`\n\t\t<div class="card" id="cardsest" style="display:none" >\n\t\t\t<img src="${t.route}" class="card-img-top" alt="...">\n\t\t\t<div class="card-body">\n\t\t\t\t<h5 class="card-title">${t.nombre}</h5>\n\t\t\t\t<p class="card-text">${t.description}</p>\n\t\t\t\t<a href="#" id="${t.id}"class="btn btn-primary">PRESUPUESTAR</a>\n\t\t</div>\n\t\t</div> `);$(".card").fadeIn(1e3).animate({top:"1rem"}).animate({top:"0rem"}),document.getElementById("est-shirts").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),o=document.createElement("label");o.for="shirtsq",o.textContent=`Cantidad de ${a.nombre}:`,o.className="lab",t.className="inp",t.placeholder=`Ingresa la cantidad de ${a.nombre} que deseas.`,t.type="number",t.name="shirtsq",n.appendChild(o),n.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),a.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,a.precio,n),o=[a.nombre,t.value,e,a.route];const r=JSON.stringify(o);localStorage.setItem("shirts",r),a.restablecerPrecio()})}),document.getElementById("est-cup").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),a=document.createElement("label");a.for="shirtsq",a.textContent=`Cantidad de ${o.nombre}:`,a.className="lab",t.className="inp",t.min=1,t.placeholder=`Ingresa la cantidad de ${o.nombre} que deseas.`,t.type="number",t.name="shirtsq",n.appendChild(a),n.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),o.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,o.precio,n),a=[o.nombre,t.value,e,o.route];const r=JSON.stringify(a);localStorage.setItem("cups",r),o.restablecerPrecio()})}),document.getElementById("est-cap").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),a=document.createElement("label");a.for="shirtsq",a.textContent=`Cantidad de ${r.nombre}:`,a.className="lab",t.className="inp",t.min=1,t.placeholder=`Ingresa la cantidad de ${r.nombre} que deseas.`,t.type="number",t.name="shirtsq",n.appendChild(a),n.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),r.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,r.precio,n),a=[r.nombre,t.value,e,r.route];const o=JSON.stringify(a);localStorage.setItem("caps",o),r.restablecerPrecio()})}),document.getElementById("clear").onclick=(()=>{$(".card").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove()}),document.getElementById("estampados1").addEventListener("hidden.bs.modal",function(e){$(".card").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove(),console.log("si funciona")})}),document.getElementById("foto").onclick=(()=>{let e=t.filter(e=>"PHO"===e.tipo),n=document.getElementById("input-foto");for(const t of e)$(".cards-pho").append(`\n\t\t<div class="card cardph" id="cardsfoto" style= "display:none;">\n\t\t<img src="${t.route}" class="card-img-top" alt="...">\n\t\t<div class="card-body">\n\t\t\t<h5 class="card-title">${t.nombre}</h5>\n\t\t\t<p class="card-text">${t.description}</p>\n\t\t\t<a href="#" id="${t.id}"class="btn btn-primary">PRESUPUESTAR</a>\n\t\t</div>\n\t\t</div> `);$(".card").fadeIn(1e3).animate({top:"1rem"}).animate({top:"0rem"}),document.getElementById("foto-d").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),a=document.createElement("label");a.for="shirtsq",a.textContent=`Cantidad de ${c.nombre}:`,a.className="lab",t.className="inp",t.min=1,t.placeholder=`Ingresa la cantidad de ${c.nombre} que deseas.`,t.type="number",t.name="shirtsq",n.appendChild(a),n.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),c.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,c.precio,n),a=[c.nombre,t.value,e,c.route];const o=JSON.stringify(a);localStorage.setItem("fdigital",o),c.restablecerPrecio()})}),document.getElementById("foto-i").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),a=document.createElement("label");a.for="shirtsq",a.textContent=`Cantidad de ${s.nombre}:`,a.className="lab",t.className="inp",t.min=1,t.placeholder=`Ingresa la cantidad de ${s.nombre} que deseas.`,t.type="number",t.name="shirtsq",n.appendChild(a),n.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),s.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,s.precio,n),a=[s.nombre,t.value,e,s.route];const o=JSON.stringify(a);localStorage.setItem("fimpresa",o),s.restablecerPrecio()})}),document.getElementById("clear1").onclick=(()=>{$(".cardph").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove()}),document.getElementById("foto1").addEventListener("hidden.bs.modal",function(e){$(".cardph").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove(),console.log("si funciona")})}),document.getElementById("video").onclick=(()=>{console.clear();let e=t.filter(e=>"VID"===e.tipo),n=document.getElementById("input-vid");for(const t of e)$(".cards-vid").append(`\n\t\t<div class="card cardvi" id="cardsvid" style="display:none;">\n\t\t<img src="${t.route}" class="card-img-top" alt="...">\n\t\t<div class="card-body">\n\t\t\t<h5 class="card-title">${t.nombre}</h5>\n\t\t\t<p class="card-text">${t.description}</p>\n\t\t\t<a href="#" id="${t.id}"class="btn btn-primary">PRESUPUESTAR</a>\n\t\t</div>\n\t\t</div> `);$(".card").fadeIn(1e3).animate({top:"1rem"}).animate({top:"0rem"}),document.getElementById("video-gr").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),a=document.createElement("label");a.for="shirtsq",a.textContent=`Cantidad de ${i.nombre}:`,a.className="lab",t.className="inp",t.min=1,t.placeholder=`Ingresa la cantidad de ${i.nombre} que deseas.`,t.type="number",t.name="shirtsq",n.appendChild(a),n.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),i.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,i.precio,n),a=[i.nombre,t.value,e,i.route];const o=JSON.stringify(a);localStorage.setItem("vidgrabacion",o),i.restablecerPrecio()})}),document.getElementById("video-ed").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),a=document.createElement("label");a.for="shirtsq",a.textContent=`Cantidad de ${l.nombre}:`,a.className="lab",t.className="inp",t.min=1,t.placeholder=`Ingresa la cantidad de ${i.nombre} que deseas.`,t.type="number",t.name="shirtsq",n.appendChild(a),n.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),l.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,l.precio,n),a=[l.nombre,t.value,e,l.route];const o=JSON.stringify(a);localStorage.setItem("videdicion",o),l.restablecerPrecio()})}),document.getElementById("video-ge").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),a=document.createElement("label");a.for="shirtsq",a.textContent=`Cantidad de ${d.nombre}:`,a.className="lab",t.className="inp",t.min=1,t.placeholder=`Ingresa la cantidad de ${d.nombre} que deseas.`,t.type="number",t.name="shirtsq",n.appendChild(a),n.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),d.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,d.precio,n),a=[d.nombre,t.value,e,d.route];const o=JSON.stringify(a);localStorage.setItem("vigraed",o),d.restablecerPrecio()})}),document.getElementById("clear2").onclick=(()=>{$(".cardvi").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove()}),document.getElementById("video1").addEventListener("hidden.bs.modal",function(e){$(".cardvi").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove(),console.log("si funciona")})}),document.getElementById("ads").onclick=(()=>{let e=t.filter(e=>"AD"===e.tipo),n=document.getElementById("input-ad");for(const t of e)$(".cards-ad").append(`\n\t\t<div class="card cardad" id="cardsad" style="display:none;">\n\t\t<img src="${t.route}" class="card-img-top" alt="...">\n\t\t<div class="card-body">\n\t\t\t<h5 class="card-title">${t.nombre}</h5>\n\t\t\t<p class="card-text">${t.description}</p>\n\t\t\t<a href="#" id="${t.id}"class="btn btn-primary">PRESUPUESTAR</a>\n\t\t</div>\n\t\t</div> `);$(".card").fadeIn(1e3).animate({top:"1rem"}).animate({top:"0rem"}),document.getElementById("pub-b").onclick=(e=>{e.preventDefault(),$(".inp").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),a=document.createElement("label");a.for="shirtsq",a.textContent=`Cantidad de ${m.nombre}:`,a.className="lab",t.className="inp",t.min=1,t.placeholder=`Ingresa la cantidad de ${m.nombre} que deseas.`,t.type="number",t.name="shirtsq",n.appendChild(a),n.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),m.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,m.precio,n),a=[m.nombre,t.value,e,m.route];const o=JSON.stringify(a);localStorage.setItem("pubb",o),m.restablecerPrecio()})}),document.getElementById("pub-sn").onclick=(e=>{e.preventDefault(),$(".inp").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),a=document.createElement("label");a.for="shirtsq",a.textContent=`Cantidad de ${p.nombre}:`,a.className="lab",t.className="inp",t.min=1,t.placeholder=`Ingresa la cantidad de ${p.nombre} que deseas.`,t.type="number",t.name="shirtsq",n.appendChild(a),n.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),p.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,p.precio,n),a=[p.nombre,t.value,e,p.route];const o=JSON.stringify(a);localStorage.setItem("pubsn",o),p.restablecerPrecio()})}),document.getElementById("clear3").onclick=(()=>{$(".cardad").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove()}),document.getElementById("pub1").addEventListener("hidden.bs.modal",function(e){$(".cardad").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove()})}),recBtn.addEventListener("click",e=>{if(totalPrice=0,(ll=localStorage.length)>4&&(localStorage.clear(),ll=0),0!=ll){for(let e=0;e<ll;e+=1)arrayrecord[e]=JSON.parse(localStorage.getItem(localStorage.key(e)));!function(e){for(let t=0;t<e.length;t+=1)$(".cards-record").append(`\n\t\t\t<div class="card cardsR">\n\t\t\t<img src="${e[t][3]}" class="card-img-top" alt="...">\n\t\t\t<div class="card-body">\n\t\t\t\t<h5 class="card-title">${e[t][0]}</h5>\n\t\t\t\t<p class="card-quantity"> CANTIDAD : ${e[t][1]}</p>\n\t\t\t\t<p class="card-price">PRECIO: $ ${e[t][2]}</p>\n\t\t\t</div>\n\t\t\t</div> `),totalPrice+=e[t][2];$(".total").append(`\n\t\n\t\t<p class="total_price">TOTAL: $ ${totalPrice}</p>\n\t\n\t\t`)}(arrayrecord)}else $(".total").append('\n\t\n\t\t\t<p class="total_price">HISTORIAL VAC√çO</p>\n\t\n\t\t\t')}),document.getElementById("recordModal").addEventListener("hidden.bs.modal",function(e){$(".cardsR").remove(),$(".total_price").remove()}),document.getElementById("clearRecord").onclick=(()=>{$(".cardsR").remove(),$(".total_price").remove()})}window.onload=(async()=>{let e=[];const t=window.location.hash;""===t?setLink(enlaces[0]):enlaces.forEach(e=>{const n=e.href;n.substring(n.lastIndexOf("#"),n.length)==t&&setLink(e)}),await $.getJSON("../data/datos.json",(t,n)=>{if("success"===n){let n=t,a=Object.values(n);e=a}}),logica(e),responsive(screenSize)});