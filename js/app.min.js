let btnMenu=document.querySelector(".btn-menu"),menu=document.querySelector(".list-container"),recBtn=document.getElementById("recordBtn");var activador=!0;let ll=localStorage.length,totalPrice=0,counter=0,screenSize=screen.width,arrayrecord=[];btnMenu.addEventListener("click",e=>{activador?(menu.style.left="0%",menu.style.transition="0.5s",activador=!1):(activador=!0,menu.style.left="-100%")});let enlaces=document.querySelectorAll(".lists li a");function setLink(e){menu.style.left="-100%",activador=!0,enlaces.forEach(e=>{e.classList.remove("active")}),e.classList.add("active")}enlaces.forEach(e=>{e.addEventListener("click",e=>{setLink(e.target)})});class Producto{constructor(e,t,a,o,n,r,c,s){this.tipo=e.toUpperCase(),this.nombre=t.toUpperCase(),this.price=parseFloat(a),this.precio=parseFloat(a),this.iva=parseFloat(o),this.descuento=parseFloat(n),this.route=r,this.description=c,this.id=s}sumaIva(){this.precio=this.precio*(1+this.iva/100)}descontar(){this.precio=this.precio*(this.descuento/100)}restablecerPrecio(){this.precio=this.price}}function responsive(e){if(e<997){let e=document.querySelectorAll('[data-class="responsive"]');document.getElementById("menumodal").className="modal-body d-flex flex-column justify-content-center align-items-center",e.forEach(e=>{e.className="modal fade modal-dialog modal-dialog-scrollable"})}}function logica(e){let t=[],a=e.shift();const o=new Producto(a.tipo,a.nombre,a.precio,a.iva,a.descuento,a.ruta,a.description,a.id);a=e.shift();const n=new Producto(a.tipo,a.nombre,a.precio,a.iva,a.descuento,a.ruta,a.description,a.id);a=e.shift();const r=new Producto(a.tipo,a.nombre,a.precio,a.iva,a.descuento,a.ruta,a.description,a.id);a=e.shift();const c=new Producto(a.tipo,a.nombre,a.precio,a.iva,a.descuento,a.ruta,a.description,a.id);a=e.shift();const s=new Producto(a.tipo,a.nombre,a.precio,a.iva,a.descuento,a.ruta,a.description,a.id);a=e.shift();const i=new Producto(a.tipo,a.nombre,a.precio,a.iva,a.descuento,a.ruta,a.description,a.id);a=e.shift();const l=new Producto(a.tipo,a.nombre,a.precio,a.iva,a.descuento,a.ruta,a.description,a.id);a=e.shift();const d=new Producto(a.tipo,a.nombre,a.precio,a.iva,a.descuento,a.ruta,a.description,a.id);a=e.shift();const m=new Producto(a.tipo,a.nombre,a.precio,a.iva,a.descuento,a.ruta,a.description,a.id);a=e.shift();const p=new Producto(a.tipo,a.nombre,a.precio,a.iva,a.descuento,a.ruta,a.description,a.id);t.push(o,n,r,c,s,i,l,d,m,p);const u=(e,t,a)=>{let o;const n=document.createElement("p");return o=isNaN(e)?0:e*t,n.textContent=`El costo es de: $ ${o}`,n.className="p",a.appendChild(n),o};document.getElementById("est").onclick=(()=>{let e=t.filter(e=>"EST"===e.tipo),a=document.getElementById("input-est");for(const t of e)$(".cards-estam").append(`\n\t\t<div class="card" id="cardsest" style="display:none" >\n\t\t\t<img src="${t.route}" class="card-img-top" alt="...">\n\t\t\t<div class="card-body">\n\t\t\t\t<h5 class="card-title">${t.nombre}</h5>\n\t\t\t\t<p class="card-text">${t.description}</p>\n\t\t\t\t<a href="#" id="${t.id}"class="btn btn-primary">PRESUPUESTAR</a>\n\t\t</div>\n\t\t</div> `);$(".card").fadeIn(1e3).animate({top:"1rem"}).animate({top:"0rem"}),document.getElementById("est-shirts").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),n=document.createElement("label");n.for="shirtsq",n.textContent=`Cantidad de ${o.nombre}:`,n.className="lab",t.className="inp",t.placeholder=`Ingresa la cantidad de ${o.nombre} que deseas.`,t.type="number",t.name="shirtsq",a.appendChild(n),a.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),o.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,o.precio,a),n=[o.nombre,t.value,e,o.route];const r=JSON.stringify(n);localStorage.setItem("shirts",r),o.restablecerPrecio()})}),document.getElementById("est-cup").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),o=document.createElement("label");o.for="shirtsq",o.textContent=`Cantidad de ${n.nombre}:`,o.className="lab",t.className="inp",t.min=1,t.placeholder=`Ingresa la cantidad de ${n.nombre} que deseas.`,t.type="number",t.name="shirtsq",a.appendChild(o),a.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),n.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,n.precio,a),o=[n.nombre,t.value,e,n.route];const r=JSON.stringify(o);localStorage.setItem("cups",r),n.restablecerPrecio()})}),document.getElementById("est-cap").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),o=document.createElement("label");o.for="shirtsq",o.textContent=`Cantidad de ${r.nombre}:`,o.className="lab",t.className="inp",t.min=1,t.placeholder=`Ingresa la cantidad de ${r.nombre} que deseas.`,t.type="number",t.name="shirtsq",a.appendChild(o),a.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),r.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,r.precio,a),o=[r.nombre,t.value,e,r.route];const n=JSON.stringify(o);localStorage.setItem("caps",n),r.restablecerPrecio()})}),document.getElementById("clear").onclick=(()=>{$(".card").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove()}),document.getElementById("estampados1").addEventListener("hidden.bs.modal",function(e){$(".card").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove(),console.log("si funciona")})}),document.getElementById("foto").onclick=(()=>{let e=t.filter(e=>"PHO"===e.tipo),a=document.getElementById("input-foto");for(const t of e)$(".cards-pho").append(`\n\t\t<div class="card cardph" id="cardsfoto" style= "display:none;">\n\t\t<img src="${t.route}" class="card-img-top" alt="...">\n\t\t<div class="card-body">\n\t\t\t<h5 class="card-title">${t.nombre}</h5>\n\t\t\t<p class="card-text">${t.description}</p>\n\t\t\t<a href="#" id="${t.id}"class="btn btn-primary">PRESUPUESTAR</a>\n\t\t</div>\n\t\t</div> `);$(".card").fadeIn(1e3).animate({top:"1rem"}).animate({top:"0rem"}),document.getElementById("foto-d").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),o=document.createElement("label");o.for="shirtsq",o.textContent="Cantidad de fotografías digitales:",o.className="lab",t.className="inp",t.min=1,t.placeholder="Ingresa la cantidad de fotografías digitales que deseas.",t.type="number",t.name="shirtsq",a.appendChild(o),a.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),c.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,c.precio,a),o=[c.nombre,t.value,e,c.route];const n=JSON.stringify(o);localStorage.setItem("fdigital",n),c.restablecerPrecio()})}),document.getElementById("foto-i").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),o=document.createElement("label");o.for="shirtsq",o.textContent="Cantidad de fotografías impresas:",o.className="lab",t.className="inp",t.min=1,t.placeholder="Ingresa la cantidad de fotografías impresas que deseas.",t.type="number",t.name="shirtsq",a.appendChild(o),a.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),s.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,s.precio,a),o=[s.nombre,t.value,e,s.route];const n=JSON.stringify(o);localStorage.setItem("fimpresa",n),s.restablecerPrecio()})}),document.getElementById("clear1").onclick=(()=>{$(".cardph").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove()}),document.getElementById("foto1").addEventListener("hidden.bs.modal",function(e){$(".cardph").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove(),console.log("si funciona")})}),document.getElementById("video").onclick=(()=>{console.clear();let e=t.filter(e=>"VID"===e.tipo),a=document.getElementById("input-vid");for(const t of e)$(".cards-vid").append(`\n\t\t<div class="card cardvi" id="cardsvid" style="display:none;">\n\t\t<img src="${t.route}" class="card-img-top" alt="...">\n\t\t<div class="card-body">\n\t\t\t<h5 class="card-title">${t.nombre}</h5>\n\t\t\t<p class="card-text">${t.description}</p>\n\t\t\t<a href="#" id="${t.id}"class="btn btn-primary">PRESUPUESTAR</a>\n\t\t</div>\n\t\t</div> `);$(".card").fadeIn(1e3).animate({top:"1rem"}).animate({top:"0rem"}),document.getElementById("video-gr").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),o=document.createElement("label");o.for="shirtsq",o.textContent="Minutos de grabación:",o.className="lab",t.className="inp",t.min=1,t.placeholder="Ingresa la cantidad de minutos de grabación que deseas.",t.type="number",t.name="shirtsq",a.appendChild(o),a.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),i.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,i.precio,a),o=[i.nombre,t.value,e,i.route];const n=JSON.stringify(o);localStorage.setItem("vidgrabacion",n),i.restablecerPrecio()})}),document.getElementById("video-ed").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),o=document.createElement("label");o.for="shirtsq",o.textContent="Minutos de edición:",o.className="lab",t.className="inp",t.min=1,t.placeholder="Ingresa la cantidad de minutos de edición que deseas.",t.type="number",t.name="shirtsq",a.appendChild(o),a.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),l.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,l.precio,a),o=[l.nombre,t.value,e,l.route];const n=JSON.stringify(o);localStorage.setItem("videdicion",n),l.restablecerPrecio()})}),document.getElementById("video-ge").onclick=(e=>{e.preventDefault(),$(".iest").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),o=document.createElement("label");o.for="shirtsq",o.textContent="Minutos de grabación y edición:",o.className="lab",t.className="inp",t.min=1,t.placeholder="Ingresa la cantidad de minutos de grabación y edición que deseas.",t.type="number",t.name="shirtsq",a.appendChild(o),a.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),d.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,d.precio,a),o=[d.nombre,t.value,e,d.route];const n=JSON.stringify(o);localStorage.setItem("vigraed",n),d.restablecerPrecio()})}),document.getElementById("clear2").onclick=(()=>{$(".cardvi").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove()}),document.getElementById("video1").addEventListener("hidden.bs.modal",function(e){$(".cardvi").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove(),console.log("si funciona")})}),document.getElementById("ads").onclick=(()=>{let e=t.filter(e=>"AD"===e.tipo),a=document.getElementById("input-ad");for(const t of e)$(".cards-ad").append(`\n\t\t<div class="card cardad" id="cardsad" style="display:none;">\n\t\t<img src="${t.route}" class="card-img-top" alt="...">\n\t\t<div class="card-body">\n\t\t\t<h5 class="card-title">${t.nombre}</h5>\n\t\t\t<p class="card-text">${t.description}</p>\n\t\t\t<a href="#" id="${t.id}"class="btn btn-primary">PRESUPUESTAR</a>\n\t\t</div>\n\t\t</div> `);$(".card").fadeIn(1e3).animate({top:"1rem"}).animate({top:"0rem"}),document.getElementById("pub-b").onclick=(e=>{e.preventDefault(),$(".inp").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),o=document.createElement("label");o.for="shirtsq",o.textContent="Servicio de Branding:",o.className="lab",t.className="inp",t.min=1,t.placeholder="Ingresa cuantos servicios de branding deseas.",t.type="number",t.name="shirtsq",a.appendChild(o),a.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),m.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,m.precio,a),o=[m.nombre,t.value,e,m.route];const n=JSON.stringify(o);localStorage.setItem("pubb",n),m.restablecerPrecio()})}),document.getElementById("pub-sn").onclick=(e=>{e.preventDefault(),$(".inp").remove(),$(".lab").remove(),$(".p").remove(),(counter+=1)>=1&&($(".inp").remove(),$(".lab").remove(),$(".p").remove());const t=document.createElement("input"),o=document.createElement("label");o.for="shirtsq",o.textContent="Campaña en redes sociales:",o.className="lab",t.className="inp",t.min=1,t.placeholder="Ingresa la cantidad de campañas en redes sociales.",t.type="number",t.name="shirtsq",a.appendChild(o),a.appendChild(t),t.focus(),t.addEventListener("focusout",()=>{$(".p").remove(),p.sumaIva(),t.value<0&&(t.value=0);let e=u(t.value,p.precio,a),o=[p.nombre,t.value,e,p.route];const n=JSON.stringify(o);localStorage.setItem("pubsn",n),p.restablecerPrecio()})}),document.getElementById("clear3").onclick=(()=>{$(".cardad").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove()}),document.getElementById("pub1").addEventListener("hidden.bs.modal",function(e){$(".cardad").remove(),$(".inp").remove(),$(".lab").remove(),$(".p").remove()})}),recBtn.addEventListener("click",e=>{if(totalPrice=0,(ll=localStorage.length)>4&&(localStorage.clear(),ll=0),0!=ll){for(let e=0;e<ll;e+=1)arrayrecord[e]=JSON.parse(localStorage.getItem(localStorage.key(e)));!function(e){for(let t=0;t<e.length;t+=1)$(".cards-record").append(`\n\t\t\t<div class="card cardsR">\n\t\t\t<img src="${e[t][3]}" class="card-img-top" alt="...">\n\t\t\t<div class="card-body">\n\t\t\t\t<h5 class="card-title">${e[t][0]}</h5>\n\t\t\t\t<p class="card-quantity"> CANTIDAD : ${e[t][1]}</p>\n\t\t\t\t<p class="card-price">PRECIO: $ ${e[t][2]}</p>\n\t\t\t</div>\n\t\t\t</div> `),totalPrice+=e[t][2];$(".total").append(`\n\t\n\t\t<p class="total_price">TOTAL: $ ${totalPrice}</p>\n\t\n\t\t`)}(arrayrecord)}else $(".total").append('\n\t\n\t\t\t<p class="total_price">HISTORIAL VACÍO</p>\n\t\n\t\t\t')}),document.getElementById("recordModal").addEventListener("hidden.bs.modal",function(e){$(".cardsR").remove(),$(".total_price").remove()}),document.getElementById("clearRecord").onclick=(()=>{$(".cardsR").remove(),$(".total_price").remove()})}window.onload=(async()=>{let e=[];const t=window.location.hash;""===t?setLink(enlaces[0]):enlaces.forEach(e=>{const a=e.href;a.substring(a.lastIndexOf("#"),a.length)==t&&setLink(e)}),await $.getJSON("../data/datos.json",(t,a)=>{if("success"===a){let a=t,o=Object.values(a);e=o}}),logica(e),responsive(screenSize)});